<!-- File: templates/landing.html -->

{% extends 'base.html' %}
{% load static %}

{% block title %}Welcome to CarHub - Buy & Sell Second-Hand Cars{% endblock %}

{% block head_extra %}
<!-- This block injects our animation styles into the <head> of the page -->
<style>
    /* --- Animated Gradient Background --- */
    .animated-gradient {
        background: linear-gradient(-45deg, #fbe2e3, #e8e8e8, #d1d5db, #f3f4f6);
        background-size: 400% 400%;
        animation: gradient 15s ease infinite;
    }

    @keyframes gradient {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    /* --- Scroll Animations (unchanged) --- */
    .scroll-animate {
        opacity: 0;
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }
    .scroll-animate.fade-in-up {
        transform: translateY(50px);
    }
    .scroll-animate.is-visible {
        opacity: 1;
        transform: translateY(0);
    }
</style>
{% endblock %}

{% block content %}
    <!-- We apply the animated gradient to the body tag via the base template's structure. -->
    <!-- Let's assume the body tag in base.html can accept a class or we can wrap the content -->
    
    <!-- Hero Section -->
    <div class="text-center py-20 md:py-32 -mt-12">
        <h1 class="text-5xl sm:text-6xl md:text-7xl font-extrabold text-black tracking-tight leading-tight">
            Find Your Next Car,
            <span class="block text-red-600">The Smart Way.</span>
        </h1>
        <p class="mt-6 max-w-3xl mx-auto text-xl text-gray-600">
            India's trusted platform for buying and selling quality second-hand cars.
        </p>
        
        <!-- Interactive Search Bar -->
        <div class="mt-10 max-w-2xl mx-auto">
            <form method="GET" action="{% url 'car-list' %}" class="relative flex items-center">
                <svg class="w-6 h-6 text-gray-400 absolute left-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" name="q" class="w-full pl-12 pr-32 py-4 text-lg bg-white border-2 border-gray-200 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-shadow" placeholder="Search by Make or Model (e.g., Tata, Nexon)...">
                <button type="submit" class="absolute right-2 bg-red-600 text-white font-bold py-3 px-6 rounded-full hover:bg-red-700 transition-colors duration-300">
                    Search
                </button>
            </form>
        </div>
    </div>

    <!-- Featured Brands Section -->
    <div class="py-12 scroll-animate fade-in-up">
        <h3 class="text-center text-sm font-semibold text-gray-500 uppercase tracking-wider">Trusted by users selling top brands</h3>
        <div class="mt-8 flex justify-center items-center space-x-8 md:space-x-12 grayscale opacity-75">
            <!-- Simple SVG logos for demonstration -->
            <div title="Maruti Suzuki" class="h-8 text-gray-500">
                <svg viewBox="0 0 24 24" fill="currentColor" class="h-full"><path d="M12 2L1 9l4 1.5V21h4v-8h6v8h4V10.5L23 9z"/></svg>
            </div>
            <div title="Hyundai" class="h-8 text-gray-500">
                <svg viewBox="0 0 24 24" fill="currentColor" class="h-full"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93L15 6.22c-.55-.26-1.15-.42-1.78-.48l-.09-.81zm0 2.01c.63.06 1.23.22 1.78.48l-.87 1.51c-.87-.48-2-1.07-2.91-1.07-.42 0-.81.1-1.15.29l.48-.83c.5.11 1.02.18 1.55.18.35 0 .69-.03 1.03-.09zm0 4c.91 0 1.95.59 2.82 1.07l.88-1.52c-.87-.48-1.84-.8-2.87-.93v1.38zm0 4c-.91 0-1.95-.59-2.82-1.07l-.88 1.52c.87.48 1.84.8 2.87.93v-1.38z"/></svg>
            </div>
            <div title="Tata" class="h-8 text-gray-500">
                <svg viewBox="0 0 24 24" fill="currentColor" class="h-full"><path d="M21.99 8.5C21.99 6.57 20.43 5 18.5 5h-13C3.57 5 2 6.57 2 8.5v7C2 17.43 3.57 19 5.5 19h13c1.93 0 3.5-1.57 3.5-3.5v-7zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/><path d="M12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill-opacity=".5"/></svg>
            </div>
            <div title="Mahindra" class="h-8 text-gray-500">
                <svg viewBox="0 0 24 24" fill="currentColor" class="h-full"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm-2-2h6v2h-6zm2 10h2v2h-2z"/></svg>
            </div>
        </div>
    </div>

    <!-- Trust Icons Section (Unchanged) -->
    <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 mb-20 text-center">
        <div class="bg-white p-8 rounded-lg shadow-lg transform hover:-translate-y-2 transition-transform duration-300 scroll-animate fade-in-up">
            <div class="bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto">
                <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            </div>
            <h3 class="text-xl font-semibold mt-5">Verified Listings</h3>
            <p class="text-gray-600 mt-2">Every car is checked to ensure quality and reliability for your peace of mind.</p>
        </div>
        <div class="bg-white p-8 rounded-lg shadow-lg transform hover:-translate-y-2 transition-transform duration-300 scroll-animate fade-in-up" style="transition-delay: 150ms;">
            <div class="bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto">
                <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
            </div>
            <h3 class="text-xl font-semibold mt-5">Easy Communication</h3>
            <p class="text-gray-600 mt-2">Contact sellers directly through our secure messaging system to ask questions.</p>
        </div>
        <div class="bg-white p-8 rounded-lg shadow-lg transform hover:-translate-y-2 transition-transform duration-300 scroll-animate fade-in-up" style="transition-delay: 300ms;">
            <div class="bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto">
                <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
            </div>
            <h3 class="text-xl font-semibold mt-5">Secure & Trusted</h3>
            <p class="text-gray-600 mt-2">We prioritize your safety and security throughout the buying and selling process.</p>
        </div>
    </div>

    <!-- Featured Listings Section (Unchanged) -->
    <div class="mb-20 scroll-animate fade-in-up">
        <h2 class="text-4xl font-bold text-center text-black mb-10">Recent Arrivals</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for car in featured_listings %}
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300 ease-in-out">
                {% if car.image %}<img class="h-56 w-full object-cover" src="{{ car.image.url }}" alt="{{ car.make }} {{ car.model }}">{% endif %}
                <div class="p-6">
                    <div class="flex justify-between items-start">
                        <h2 class="text-2xl font-bold text-black">{{ car.make }} {{ car.model }}</h2>
                        <span class="bg-red-100 text-red-800 text-lg font-semibold px-3 py-1 rounded-full">‚Çπ{{ car.price|floatformat:"-2g" }}</span>
                    </div>
                    <p class="text-gray-600 text-sm mt-1">{{ car.year }} Model</p>
                    <div class="mt-4 flex justify-between items-center">
                        <p class="text-sm text-gray-500">üìç {{ car.location_city }}</p>
                        <a href="{% url 'car-detail' car.id %}" class="bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700">View Details</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-span-3 text-center py-12"><p class="text-gray-500">No featured listings available.</p></div>
            {% endfor %}
        </div>
    </div>

    <!-- How It Works Section (Unchanged, but with better icons) -->
    <div class="bg-white rounded-lg shadow-lg p-8 md:p-12 scroll-animate fade-in-up">
        <h2 class="text-4xl font-bold text-center text-black mb-10">How It Works</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
            <div class="p-4">
                <div class="text-5xl text-red-600 mb-4">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>
                <h3 class="text-xl font-semibold mb-2">1. Find Your Car</h3>
                <p class="text-gray-600">Use our advanced search and filters to find the perfect car that fits your needs and budget.</p>
            </div>
            <div class="p-4">
                <div class="text-5xl text-red-600 mb-4">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
                </div>
                <h3 class="text-xl font-semibold mb-2">2. Contact the Seller</h3>
                <p class="text-gray-600">Send a message directly to the seller to ask questions, negotiate, or schedule a test drive.</p>
            </div>
            <div class="p-4">
                <div class="text-5xl text-red-600 mb-4">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 2c-2.21 0-4 1.79-4 4v1h8v-1c0-2.21-1.79-4-4-4zm6 6H6v1h12v-1z"></path></svg>
                </div>
                <h3 class="text-xl font-semibold mb-2">3. Seal the Deal</h3>
                <p class="text-gray-600">Meet the seller, inspect the car, and complete your purchase. It's that simple!</p>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<!-- Scroll animation script (Unchanged) -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const animatedElements = document.querySelectorAll('.scroll-animate');
        const observerCallback = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        };
        const observer = new IntersectionObserver(observerCallback, {
            threshold: 0.1
        });
        animatedElements.forEach(element => {
            observer.observe(element);
        });
    });
</script>
{% endblock %}
